{% set docker = salt['grains.filter_by']({
  'default': {
    'package': 'docker-engine',
    'repo': {
      'file': '/etc/apt/sources.list.d/docker.list',
      'keyid': '58118E89F3A912897C070ADBF76221572C52609D',
      'keyserver': 'hkp://p80.pool.sks-keyservers.net:80'
    }
  },
  'jessie': {
    'repo_entry': 'deb https://apt.dockerproject.org/repo debian-jessie main',
  },
  'trusty': {
    'repo_entry': 'deb https://apt.dockerproject.org/repo ubuntu-trusty main',
  },
  'CentOS Linux 7 (Core)': {
    'package': 'docker',
    'repo': None
  }
}, merge=salt['pillar.get']('docker:lookup'), base='default', grain='oscodename') %}
