language: ruby

sudo: required

addons:
  apt:
    packages:
      - pep8

before_install: scripts/travis-private-key.sh

env:
  global:
    - KITCHEN_LOCAL_YAML=".kitchen.travis.yml"
  matrix:
    - COMMAND="scripts/travis-lint-ruby.sh"
    - COMMAND="scripts/travis-lint-python.sh"
    - COMMAND="scripts/travis-kitchen.sh"
    - COMMAND="scripts/travis-cloudformation.sh"
    - COMMAND="scripts/travis-dns.sh"

script: $COMMAND

after_script: scripts/travis-cleanup.sh

notifications:
  email: false

branches:
  only:
    - master
