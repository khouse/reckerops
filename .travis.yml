language: ruby
before_install:
  - echo '-----BEGIN RSA PRIVATE KEY-----' > ~/.ssh/reckerops-build.pem
  - echo $RECKEROPS_BUILD_SSH_PRIVATE_KEY | fold -w 72 >> ~/.ssh/reckerops-build.pem
  - echo '-----END RSA PRIVATE KEY-----' >> ~/.ssh/reckerops-build.pem
  - gem update --system && gem update bundler
env:
  - COMMAND='rubocop'
  - COMMAND='kitchen test debian'
  - COMMAND='kitchen test ubuntu'
  - COMMAND='kitchen test centos'
script: bundle exec $COMMAND
notifications:
  email: false
